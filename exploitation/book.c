
void notebook(void)

{
  long lVar1;
  char *apcStack88 [5];
  char *memoryspace;
  size_t user_size;
  int usr_menu_choice;
  int i2;
  int i;
  uint note_amt;
  int local_c;
  
  note_amt = 0;
  while( true ) {
    puts("1. Add\n");
    puts("2. Show\n");
    puts("3. Quit\n");
    printf(">> ");
    usr_menu_choice = read_int();
    putchar(10);
    if (usr_menu_choice == 3) break;
    if (usr_menu_choice < 4) {
      if (usr_menu_choice == 1) {
        local_c = 0;
        printf("Add Note (%d/5)\n",(ulong)note_amt);
        puts("--------------\n");
                    /* checks for how many notes there are */
        if (note_amt == 5) {
          puts("Maximum notes reached\n");
        }
        else {
          printf("Size: ");
          user_size = read_int();
          memoryspace = (char *)malloc(user_size);
          if (memoryspace == (char *)0x0) {
            local_c = 1;
          }
          else {
            printf("\nNote: ");
            read(0,memoryspace,100);
            for (i = 0; memoryspace[i] != '\0'; i = i + 1) {
              if ((memoryspace[i] == '%') && (memoryspace[(long)i + 1] != 'p')) {
                local_c = 1;
                free(memoryspace);
              }
            }
          }
          putchar(10);
          if (local_c == 0) {
            lVar1 = (long)(int)note_amt;
            note_amt = note_amt + 1;
            apcStack88[lVar1] = memoryspace;
            puts("Note added");
          }
          else {
            puts("Request is invalid");
          }
          putchar(10);
        }
      }
      else if (usr_menu_choice == 2) {
        puts("Show Notes");
        puts("----------");
        if (note_amt == 0) {
          puts("\nNothing to show");
        }
        for (i2 = 0; i2 < (int)note_amt; i2 = i2 + 1) {
          putchar(10);
          printf(apcStack88[i2]);
        }
        putchar(10);
      }
    }
  }
  puts("Bye");
                    /* WARNING: Subroutine does not return */
  exit(0);
}

